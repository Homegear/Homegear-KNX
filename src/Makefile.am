AUTOMAKE_OPTIONS = subdir-objects

AM_CPPFLAGS = -Wall -std=c++17 -DFORTIFY_SOURCE=2 -DGCRYPT_NO_DEPRECATED
AM_LDFLAGS = -Wl,-rpath=/lib/homegear -Wl,-rpath=/usr/lib/homegear -Wl,-rpath=/usr/local/lib/homegear
LIBS += -Wl,-Bdynamic -lzip

libdir = $(localstatedir)/lib/homegear/modules
lib_LTLIBRARIES = mod_knx.la
mod_knx_la_SOURCES = Knx.cpp KnxPeer.cpp Search.cpp DptConverter.cpp Factory.cpp Cemi.cpp KnxIpForwarder.cpp KnxIpPacket.cpp Gd.cpp KnxCentral.cpp Interfaces.cpp PhysicalInterfaces/MainInterface.cpp DatapointTypeParsers/DpstParser.cpp DatapointTypeParsers/DpstParserBase.cpp DatapointTypeParsers/Dpst1Parser.cpp DatapointTypeParsers/Dpst2Parser.cpp DatapointTypeParsers/Dpst3Parser.cpp DatapointTypeParsers/Dpst4Parser.cpp DatapointTypeParsers/Dpst5Parser.cpp DatapointTypeParsers/Dpst6Parser.cpp DatapointTypeParsers/Dpst7Parser.cpp DatapointTypeParsers/Dpst8Parser.cpp DatapointTypeParsers/Dpst9Parser.cpp DatapointTypeParsers/Dpst10Parser.cpp DatapointTypeParsers/Dpst11Parser.cpp DatapointTypeParsers/Dpst12Parser.cpp DatapointTypeParsers/Dpst13Parser.cpp DatapointTypeParsers/Dpst14Parser.cpp DatapointTypeParsers/Dpst15Parser.cpp DatapointTypeParsers/Dpst16Parser.cpp DatapointTypeParsers/Dpst17Parser.cpp DatapointTypeParsers/Dpst18Parser.cpp DatapointTypeParsers/Dpst19Parser.cpp DatapointTypeParsers/Dpst20Parser.cpp DatapointTypeParsers/Dpst21Parser.cpp DatapointTypeParsers/Dpst22Parser.cpp DatapointTypeParsers/Dpst23Parser.cpp DatapointTypeParsers/Dpst25Parser.cpp DatapointTypeParsers/Dpst26Parser.cpp DatapointTypeParsers/Dpst27Parser.cpp DatapointTypeParsers/Dpst29Parser.cpp DatapointTypeParsers/Dpst30Parser.cpp DatapointTypeParsers/Dpst206Parser.cpp DatapointTypeParsers/Dpst217Parser.cpp DatapointTypeParsers/Dpst219Parser.cpp DatapointTypeParsers/Dpst222Parser.cpp DatapointTypeParsers/Dpst229Parser.cpp DatapointTypeParsers/Dpst230Parser.cpp DatapointTypeParsers/Dpst232Parser.cpp DatapointTypeParsers/Dpst234Parser.cpp DatapointTypeParsers/Dpst237Parser.cpp DatapointTypeParsers/Dpst238Parser.cpp DatapointTypeParsers/Dpst240Parser.cpp DatapointTypeParsers/Dpst241Parser.cpp DatapointTypeParsers/Dpst244Parser.cpp DatapointTypeParsers/Dpst245Parser.cpp DatapointTypeParsers/Dpst249Parser.cpp DatapointTypeParsers/Dpst250Parser.cpp DatapointTypeParsers/Dpst251Parser.cpp
mod_knx_la_LDFLAGS =-module -avoid-version -shared
install-exec-hook:
	rm -f $(DESTDIR)$(libdir)/mod_knx.la
